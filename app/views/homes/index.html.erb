<!DOCTYPE html>
<html>
<head>
  <title>ChristmasLights</title>
</head>

<% if $info_message != nil %>
    <div class="ui-widget">
      <div class="ui-state-highlight ui-corner-all" style="margin-top: 20px; padding: 0 .7em;">
        <p><span class="ui-icon ui-icon-info" style="float: left; margin-right: .3em;"></span>
          <strong>Info:</strong> <%= $info_message %></p>
      </div>
    </div>
    <% $info_message = nil %>
<% end %>

<img id="homeLogo" alt="home-page-logo" src="/seechristmas-lights-logo.png" />

<%= form_for_filterrific @filterrific do |f| %>
  <div class='filter'>
    State
      <%= f.select(
        :state, 
        @filterrific.select_options[:state],
           { include_blank: '- Select -' }
      ) %>
  &nbsp &nbsp
  
    City
      <%= f.select(
       :city,  
        @filterrific.select_options[:city],
        { include_blank: '- Select -' }
      ) %>
 
   &nbsp &nbsp
   
    Rating
      <%= f.select(
        :rating, 
        @filterrific.select_options[:rating],
        { include_blank: '- Select -' }
      ) %>
      &nbsp &nbsp &nbsp
      
       <%= link_to(
      'Reset filters',
      reset_filterrific_url,
    ) %>
  </div>
  <%# add an automated spinner to your form when the list is refreshed %>
   <%#<%= render_filterrific_spinner %>
  
  </div>
  
<% end %>

<div class='results'>
  <%= render(
    partial: 'homes/list',
    locals: { homes: @homes }
  ) %>
  </div>


   <% homes_url do |home| %>
      <tr>
        <td><%= link_to(home.rating, home_path(home)) %></td>
        <td><%= home.state %></td>
        <td><%= home.city %></td>
      </tr>
     <p>
    <%= link_to(home.rating, target: "_blank") %> - <%= link_to("Show Page", home) %>
  </p>
  <% end %>
</html>
